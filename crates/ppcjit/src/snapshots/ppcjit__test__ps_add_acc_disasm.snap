---
source: crates/ppcjit/src/test.rs
expression: disasm
---
  pushq %rbp
  unwind PushFrameRegs { offset_upward_to_caller_sp: 16 }
  movq %rsp, %rbp
  unwind DefineNewFrame { offset_upward_to_caller_sp: 16, offset_downward_to_clobbers: 16 }
  subq $0x20, %rsp
  movq %rbx, 0x10(%rsp)
  unwind SaveReg { clobber_offset: 0, reg: p3i }
  movq %r15, 0x18(%rsp)
  unwind SaveReg { clobber_offset: 8, reg: p15i }
block0:
  movq %rdi, %r15
  movq %rdx, %rdi
  movl 0x2a8(%rdi), %edx
  movq %rdi, %r9
  shrl $0xd, %edx
  testb $0x1, %dl
  jnz     label2; j label1
block2:
  movq %r9, %rdi
  vmovsd 0x88(%rdi), %xmm15
  vmovsd 0x90(%rdi), %xmm8
  vmovsd 0x98(%rdi), %xmm0
  vmovsd 0xa0(%rdi), %xmm6
  movl 0x28c(%rdi), %ecx
  movl (%rdi), %esi
  vmovsd 0xa8(%rdi), %xmm1
  vmovsd 0xb0(%rdi), %xmm5
  vmovsd 0xb8(%rdi), %xmm3
  vmovsd 0xc0(%rdi), %xmm4
  vmovsd 0xc8(%rdi), %xmm7
  vmovsd 0xd0(%rdi), %xmm2
  movl $0x1f000, %eax
  uninit  %xmm13
  vxorpd %xmm13, %xmm13, %xmm9
  vmovsd %xmm15, %xmm9, %xmm9
  vmovlhps %xmm8, %xmm9, %xmm15
  uninit  %xmm13
  vxorpd %xmm13, %xmm13, %xmm8
  vmovsd %xmm0, %xmm8, %xmm0
  vmovlhps %xmm6, %xmm0, %xmm0
  vaddpd %xmm0, %xmm15, %xmm0
  uninit  %xmm6
  vxorpd %xmm6, %xmm6, %xmm6
  vmovsd %xmm1, %xmm6, %xmm1
  vmovlhps %xmm5, %xmm1, %xmm1
  vaddpd %xmm1, %xmm0, %xmm1
  uninit  %xmm5
  vxorpd %xmm5, %xmm5, %xmm5
  vmovsd %xmm3, %xmm5, %xmm3
  vmovlhps %xmm4, %xmm3, %xmm3
  vaddpd %xmm3, %xmm1, %xmm3
  uninit  %xmm5
  vxorpd %xmm5, %xmm5, %xmm4
  vmovsd %xmm7, %xmm4, %xmm4
  vmovlhps %xmm2, %xmm4, %xmm7
  vaddpd %xmm7, %xmm3, %xmm7
  uninit  %xmm6
  vxorpd %xmm6, %xmm6, %xmm2
  vucomisd %xmm7, %xmm2
  seta %dl
  movzbl %dl, %edx
  shll $0xf, %edx
  vucomisd (%rip), %xmm7
  seta %r8b
  movzbl %r8b, %r8d
  shll $0xe, %r8d
  orl %r8d, %edx
  vucomisd (%rip), %xmm7
  setnp %r8b
  sete %r9b
  andl %r9d, %r8d
  movzbl %r8b, %r8d
  shll $0xd, %r8d
  orl %r8d, %edx
  vucomisd (%rip), %xmm7
  setp %r8b
  movzbl %r8b, %r8d
  shll $0xc, %r8d
  orl %r8d, %edx
  vucomisd %xmm3, %xmm2
  seta %r8b
  movzbl %r8b, %r11d
  shll $0xf, %r11d
  vucomisd (%rip), %xmm3
  seta %r9b
  movzbl %r9b, %r8d
  shll $0xe, %r8d
  orl %r8d, %r11d
  vucomisd (%rip), %xmm3
  setnp %r10b
  sete %r8b
  andl %r8d, %r10d
  movzbl %r10b, %r9d
  shll $0xd, %r9d
  orl %r9d, %r11d
  vucomisd (%rip), %xmm3
  setp %r8b
  movzbl %r8b, %r10d
  shll $0xc, %r10d
  orl %r10d, %r11d
  vucomisd %xmm1, %xmm2
  seta %r8b
  movzbl %r8b, %r8d
  shll $0xf, %r8d
  vucomisd (%rip), %xmm1
  seta %r9b
  movzbl %r9b, %r9d
  shll $0xe, %r9d
  orl %r9d, %r8d
  vucomisd (%rip), %xmm1
  setnp %r9b
  sete %r10b
  andl %r10d, %r9d
  movzbl %r9b, %r9d
  shll $0xd, %r9d
  orl %r9d, %r8d
  vucomisd (%rip), %xmm1
  setp %r9b
  movzbl %r9b, %r9d
  shll $0xc, %r9d
  orl %r9d, %r8d
  vucomisd %xmm0, %xmm2
  seta %r9b
  movzbl %r9b, %r10d
  shll $0xf, %r10d
  vucomisd (%rip), %xmm0
  seta %r9b
  movzbl %r9b, %r9d
  shll $0xe, %r9d
  orl %r9d, %r10d
  vucomisd (%rip), %xmm0
  setnp %r9b
  sete %bl
  andl %ebx, %r9d
  movzbl %r9b, %r9d
  shll $0xd, %r9d
  orl %r9d, %r10d
  vucomisd (%rip), %xmm0
  setp %r9b
  movzbl %r9b, %r9d
  shll $0xc, %r9d
  orl %r9d, %r10d
  movq %rax, %r9
  andl %r10d, %r9d
  movq %rax, %r10
  notl %r10d
  andl %ecx, %r10d
  orl %r10d, %r9d
  movq %rax, %r10
  andl %r8d, %r10d
  movq %rax, %rcx
  notl %ecx
  andl %r9d, %ecx
  orl %ecx, %r10d
  movq %rax, %rcx
  andl %r11d, %ecx
  movq %rax, %r11
  notl %r11d
  andl %r10d, %r11d
  orl %r11d, %ecx
  movq %rax, %r10
  andl %edx, %r10d
  notl %eax
  andl %ecx, %eax
  orl %eax, %r10d
  movl %r10d, 0x28c(%rdi)
  vpshufd $0xee, %xmm7, %xmm0
  vmovsd %xmm0, 0x90(%rdi)
  vmovsd %xmm7, 0x88(%rdi)
  leal 0x10(%rsi), %eax
  movl %eax, (%rdi)
  movq %r15, %rdi
  addl $0x4, (%rdi)
  addl $0x8, 4(%rdi)
  movq 0x10(%rsp), %rbx
  movq 0x18(%rsp), %r15
  addq $0x20, %rsp
  movq %rbp, %rsp
  popq %rbp
  retq
block1:
  movl $0x800, %esi
  load_ext_name userextname0+0, %r10
  movq %r9, %rdi
  call    *%r10
  movq 0x10(%rsp), %rbx
  movq 0x18(%rsp), %r15
  addq $0x20, %rsp
  movq %rbp, %rsp
  popq %rbp
  retq
